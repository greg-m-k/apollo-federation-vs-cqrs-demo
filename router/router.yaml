# Apollo Router Configuration
# https://www.apollographql.com/docs/router/configuration/overview

supergraph:
  introspection: true
  listen: 0.0.0.0:4000

# Enable GraphQL Sandbox UI
sandbox:
  enabled: true

# Homepage with redirect to sandbox
homepage:
  enabled: false

# Health checks
health_check:
  listen: 0.0.0.0:8088
  enabled: true

# CORS for browser access
cors:
  origins:
    - http://localhost:4000
    - http://localhost:8080
    - https://studio.apollographql.com
  allow_any_origin: true

# Subgraph routing headers
headers:
  all:
    request:
      - propagate:
          matching: ".*"

# Include subgraph errors in response
include_subgraph_errors:
  all: true

# Telemetry
telemetry:
  exporters:
    logging:
      stdout:
        enabled: true
        format: text
