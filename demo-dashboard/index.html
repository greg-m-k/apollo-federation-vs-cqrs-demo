<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GraphQL vs CDC Comparison Demo</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1>Data Propagation Comparison</h1>
        <p>Apollo Federation GraphQL vs Kafka CDC (Debezium)</p>
    </header>

    <main>
        <!-- Mutation Panel -->
        <section class="mutation-panel">
            <h2>Trigger Data Change</h2>
            <div class="mutation-form">
                <div class="form-group">
                    <label for="productName">Product Name:</label>
                    <input type="text" id="productName" value="Demo Widget">
                </div>
                <div class="form-group">
                    <label for="productPrice">Price:</label>
                    <input type="number" id="productPrice" value="99.99" step="0.01">
                </div>
                <div class="form-group">
                    <label for="categoryId">Category:</label>
                    <select id="categoryId">
                        <option value="1">Electronics</option>
                        <option value="2">Books</option>
                        <option value="3">Clothing</option>
                    </select>
                </div>
                <div class="button-group">
                    <button onclick="createProduct()" class="btn btn-create">Create Product</button>
                    <button onclick="refreshGraphQL()" class="btn btn-refresh">Refresh GraphQL</button>
                </div>
            </div>
        </section>

        <!-- Comparison Panels -->
        <div class="comparison-container">
            <!-- Left: GraphQL -->
            <section class="panel graphql-panel">
                <div class="panel-header">
                    <h2>GraphQL (Synchronous)</h2>
                    <span class="badge">Request/Response</span>
                </div>
                <div class="panel-stats">
                    <span id="graphqlLatency">Latency: --</span>
                    <span id="graphqlLastUpdate">Last: --</span>
                </div>
                <div class="panel-content">
                    <pre id="graphqlResults">Loading...</pre>
                </div>
            </section>

            <!-- Right: CDC -->
            <section class="panel cdc-panel">
                <div class="panel-header">
                    <h2>CDC Events (Asynchronous)</h2>
                    <span class="badge" id="cdcStatus">Connecting...</span>
                </div>
                <div class="panel-stats">
                    <span id="cdcEventCount">Events: 0</span>
                    <span id="cdcLag">Lag: --</span>
                </div>
                <div class="panel-content">
                    <div id="cdcEvents" class="event-stream"></div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <p>
            <strong>GraphQL:</strong> <span id="graphqlEndpoint">http://localhost:30400</span> |
            <strong>CDC:</strong> <span id="cdcEndpoint">http://localhost:30081</span>
        </p>
    </footer>

    <script src="js/app.js"></script>
</body>
</html>
